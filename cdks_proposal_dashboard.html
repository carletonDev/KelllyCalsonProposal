<!-- Chosen Palette: Indigo/Amber (Warm Neutrals with Subtle Accent) -->
<!-- Application Structure Plan: The application uses a fixed, centered container with a two-column responsive grid layout on large screens, transitioning to a single column on mobile. The structure is thematic: 1. Core Vision (Summary and Challenge Matrix), 2. Phase I Deep Dive (Effort Chart and Deliverable Selector), 3. Phase II Roadmap (Priority Chart and Feature List), and 4. Timeline. This structure was chosen because it allows the user to grasp the strategic WHY (Challenges), the WHAT (Phases), and the WHEN (Timeline) quickly, facilitating a non-linear exploration path that is easier to consume than the original document flow. -->
<!-- Visualization & Content Choices:
- Challenge Analysis: Report Info -> Goal -> Viz/Presentation Method -> Interaction -> Justification -> Library/Method - Four key challenges are presented as interactive cards in a grid. Clicking a card dynamically updates a dedicated explanation panel. This is more engaging than a static table and immediately highlights the solution focus. (HTML/Tailwind/JS)
- Phase I Effort: Report Info -> Goal -> Viz/Presentation Method -> Interaction -> Justification -> Library/Method - The four 1-week steps are displayed in a Chart.js Horizontal Bar Chart. This provides a clear, quantitative visual of the initial foundation commitment. (Chart.js/Canvas)
- Phase I Deliverables: Report Info -> Goal -> Viz/Presentation Method -> Interaction -> Justification -> Library/Method - A set of buttons allows the user to select and view the specific objective and deliverable for each step, acting as a guided tour through Phase I. (HTML/Tailwind/JS)
- Phase II Priority: Report Info -> Goal -> Viz/Presentation Method -> Interaction -> Justification -> Library/Method - High vs. Medium priority is shown in a Chart.js Donut Chart. This immediately conveys the focus of the development effort. (Chart.js/Canvas)
- Timeline: Report Info -> Goal -> Viz/Presentation Method -> Interaction -> Justification -> Library/Method - Key dates (Nov 14, Dec 1, Dec 2) are presented in a custom HTML/CSS responsive timeline, emphasizing the critical Dec 1st milestone. (HTML/Tailwind/JS)
- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDKS Project Proposal: Interactive Review</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -14px;
            top: 0;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #4f46e5;
        }
        .timeline-line {
            position: absolute;
            left: -10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #a5b4fc;
        }
        .transition-transform {
            transition-property: transform;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 300ms;
        }
        .interact-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800 antialiased">

    <div class="bg-indigo-700 shadow-lg fixed w-full z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <nav class="flex justify-between items-center h-16">
                <div class="text-2xl font-bold text-white">CDKS Proposal <span class="text-amber-300 text-sm italic">| Review Ready</span></div>
                <div class="hidden sm:ml-6 sm:flex sm:space-x-4">
                    <a href="#vision" class="text-white hover:text-amber-300 px-3 py-2 rounded-md text-sm font-medium transition duration-150 ease-in-out">Vision</a>
                    <a href="#phase1" class="text-white hover:text-amber-300 px-3 py-2 rounded-md text-sm font-medium transition duration-150 ease-in-out">Phase I</a>
                    <a href="#phase2" class="text-white hover:text-amber-300 px-3 py-2 rounded-md text-sm font-medium transition duration-150 ease-in-out">Phase II</a>
                    <a href="#timeline" class="text-white hover:text-amber-300 px-3 py-2 rounded-md text-sm font-medium transition duration-150 ease-in-out">Timeline</a>
                </div>
            </nav>
        </div>
    </div>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">

        <!-- Executive Summary -->
        <section id="vision" class="mb-16 pt-8">
            <h1 class="text-4xl font-extrabold text-indigo-700 mb-4 border-b pb-2 border-indigo-200">Canonical Data Knowledge System (CDKS)</h1>
            <p class="text-lg text-gray-600 mb-8 max-w-4xl">This application presents the proposal to transform your comprehensive, fragmented data project knowledge into a centralized, robust system. The strategy is built on a two-phase approach: **Foundation & Consolidation (Phase I)**, followed by **Rapid Feature Development (Phase II)**, ensuring massive growth potential while managing the initial limited budget effectively. This approach leverages your established expertise in enterprise architecture and modern software stacks.</p>

            <h2 class="text-3xl font-bold text-gray-700 mb-6 mt-12">1. Core Challenges & Solutions</h2>
            <p class="text-gray-600 mb-8">The first step in defining the CDKS is clearly understanding the four core business challenges it must solve. Click on any card below to see the specific architectural focus designed to overcome that challenge and consolidate your institutional knowledge.</p>

            <!-- Interactive Challenge Matrix -->
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <!-- Challenge Card Template -->
                <div id="challenge-1" class="interact-card cursor-pointer bg-white p-6 rounded-xl shadow-md border-t-4 border-indigo-500 transition-transform" onclick="updateChallenge(1)">
                    <div class="text-2xl font-bold text-gray-700 mb-2">ðŸ§  Knowledge Silo</div>
                    <p class="text-sm text-gray-500">High bus factor, slow onboarding, inconsistent decisions.</p>
                </div>
                <div id="challenge-2" class="interact-card cursor-pointer bg-white p-6 rounded-xl shadow-md border-t-4 border-indigo-500 transition-transform" onclick="updateChallenge(2)">
                    <div class="text-2xl font-bold text-gray-700 mb-2">ðŸš§ Fragmented Project</div>
                    <p class="text-sm text-gray-500">Complexity slows feature development and causes regression.</p>
                </div>
                <div id="challenge-3" class="interact-card cursor-pointer bg-white p-6 rounded-xl shadow-md border-t-4 border-indigo-500 transition-transform" onclick="updateChallenge(3)">
                    <div class="text-2xl font-bold text-gray-700 mb-2">ðŸ“‰ Limited Initial Budget</div>
                    <p class="text-sm text-gray-500">Prevents costly framework overhauls in the beginning.</p>
                </div>
                <div id="challenge-4" class="interact-card cursor-pointer bg-white p-6 rounded-xl shadow-md border-t-4 border-indigo-500 transition-transform" onclick="updateChallenge(4)">
                    <div class="text-2xl font-bold text-gray-700 mb-2">ðŸš€ Feature Velocity Need</div>
                    <p class="text-sm text-gray-500">Future growth depends on rapid iteration and shipping speed.</p>
                </div>
            </div>

            <!-- Dynamic Solution Display -->
            <div class="bg-indigo-50 p-6 rounded-xl border border-indigo-200">
                <h3 class="text-xl font-semibold text-indigo-700 mb-3 flex items-center">
                    <span class="mr-2 text-2xl">ðŸ’¡</span> <span id="solution-title">Select a Challenge Above to View its CDKS Solution</span>
                </h3>
                <p id="solution-description" class="text-gray-700 italic">The Canonical Data Knowledge System (CDKS) architecture is purpose-built to address all four core challenges by leveraging clean architecture and modern development stacks.</p>
            </div>
        </section>

        <!-- Phase I: Foundation & Consolidation -->
        <section id="phase1" class="mb-16 pt-8">
            <h2 class="text-3xl font-bold text-gray-700 mb-6 mt-12 border-b pb-2 border-indigo-200">2. Phase I: Foundation & Consolidation (4 Weeks)</h2>
            <p class="text-gray-600 mb-8">Phase I is designed as a low-cost, high-impact sprint to establish the necessary architectural blueprint and capture the required knowledge. The total estimated effort is **4 Weeks**, broken down into four sequential, 1-week steps. This section visualizes the effort and allows you to explore the specific deliverables.</p>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Chart Area: Phase I Effort -->
                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Phase I: Estimated Effort Breakdown</h3>
                    <div class="chart-container">
                        <canvas id="effortChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-500 mt-4">The visual confirms an equal distribution of focus across the four fundamental steps required to prepare for Phase II.</p>
                </div>

                <!-- Interactive Element: Phase I Deliverables -->
                <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col">
                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Step-by-Step Deliverables</h3>
                    <div class="space-y-3 mb-6">
                        <button class="w-full text-left p-3 rounded-lg border border-indigo-200 hover:bg-indigo-100 transition duration-150" onclick="updateStep(1)">1. Knowledge Elicitation</button>
                        <button class="w-full text-left p-3 rounded-lg border border-indigo-200 hover:bg-indigo-100 transition duration-150" onclick="updateStep(2)">2. Data Model Design</button>
                        <button class="w-full text-left p-3 rounded-lg border border-indigo-200 hover:bg-indigo-100 transition duration-150" onclick="updateStep(3)">3. Architectural Blueprint</button>
                        <button class="w-full text-left p-3 rounded-lg border border-indigo-200 hover:bg-indigo-100 transition duration-150" onclick="updateStep(4)">4. Foundational Code Structure</button>
                    </div>

                    <div class="bg-amber-50 p-4 rounded-lg border border-amber-200 flex-grow">
                        <p class="font-semibold text-amber-700 mb-1" id="step-title">Select a Step Above</p>
                        <p class="text-sm text-gray-700" id="step-deliverable">Click a step button to view the core deliverable and objective for that week of Phase I.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Phase II: Core Development & Feature Velocity -->
        <section id="phase2" class="mb-16 pt-8">
            <h2 class="text-3xl font-bold text-gray-700 mb-6 mt-12 border-b pb-2 border-indigo-200">3. Phase II: Core Development & Feature Velocity</h2>
            <p class="text-gray-600 mb-8">Phase II focuses on building core modules based on the Clean Architecture foundation. The proposed stack leverages your existing expertise: **Frontend** (Next.js) and **Backend/Data** (Supabase or a dedicated .NET 8 API layer).</p>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Chart Area: Phase II Priority -->
                <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Initial Module Priority Distribution</h3>
                    <div class="chart-container h-80 max-h-80">
                        <canvas id="priorityChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-500 mt-4 text-center">Development focus starts with critical security and data flow features.</p>
                </div>

                <!-- Feature List -->
                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Core Feature Roadmap</h3>
                    <div id="feature-list" class="space-y-4">
                        <!-- Content rendered by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Next Steps & Timeline -->
        <section id="timeline" class="mb-16 pt-8">
            <h2 class="text-3xl font-bold text-gray-700 mb-6 mt-12 border-b pb-2 border-indigo-200">4. Next Steps and Critical Timeline</h2>
            <p class="text-gray-600 mb-8">This visual timeline highlights the key milestone: the **December 1st, 2025** formal review, marking the transition from Phase I architectural design to Phase II development planning.</p>

            <!-- Timeline Diagram -->
            <div class="relative pl-6 py-6 border-l-2 border-indigo-200">
                <div class="timeline-line"></div>
                
                <div id="date-1" class="timeline-item relative mb-8 pl-4 transition-all" onclick="highlightDate(1)">
                    <div class="font-bold text-lg text-indigo-700">Nov 14th â€“ Nov 28th, 2025</div>
                    <div class="text-sm font-medium text-gray-600">Activity: Phase I Execution</div>
                    <div class="text-xs text-gray-500">Responsibility: CodeSages / Client Team</div>
                </div>

                <div id="date-2" class="timeline-item relative mb-8 pl-4 transition-all bg-amber-50 p-3 rounded-lg border border-amber-300 transform scale-100" onclick="highlightDate(2)">
                    <div class="font-bold text-lg text-amber-700">December 1st, 2025</div>
                    <div class="text-sm font-medium text-indigo-700">Activity: Proposal Review (CRITICAL MILESTONE)</div>
                    <div class="text-xs text-indigo-500">Responsibility: Client Team</div>
                </div>

                <div id="date-3" class="timeline-item relative mb-0 pl-4 transition-all" onclick="highlightDate(3)">
                    <div class="font-bold text-lg text-indigo-700">December 2nd, 2025</div>
                    <div class="text-sm font-medium text-gray-600">Activity: Phase II Implementation Planning</div>
                    <div class="text-xs text-gray-500">Responsibility: CodeSages / Client Team</div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-200 py-6 text-center text-sm text-gray-600 mt-12">
        &copy; 2025 Canonical Data Knowledge System Proposal. Review by December 1, 2025.
    </footer>

<script>
    const DATA = {
        challenges: [
            { id: 1, name: "Knowledge Silo ('Brain')", solution: "Consolidation: Create a single source of truth for business rules, data lineage, and project artifacts to reduce bus factor and standardize operations." },
            { id: 2, name: "Fragmented Data Project", solution: "Architecture: Implement a Clean Architecture / Microservices approach for clear separation of concerns, independent development, and reduced regression risk." },
            { id: 3, name: "Limited Initial Budget", solution: "Scoping: Focus Phase I strictly on design, modeling, and low-cost documentation/prototyping to minimize upfront infrastructure spending." },
            { id: 4, name: "Rapid Feature Velocity Need", solution: "Stack Choice: Select modern, full-stack frameworks (like Next.js/Supabase) that maximize developer productivity and enable rapid feature shipment in Phase II." }
        ],
        phaseI: [
            { id: 1, step: "Knowledge Elicitation", deliverable: "CDKS Knowledge Base (Documentation): A centralized repository (e.g., GitHub Wiki, Notion) containing all elicited information.", objective: "Focused sessions to capture key project artifacts: data models, business logic, system dependencies, and process flows." },
            { id: 2, step: "Data Model Design", deliverable: "Canonical Data Model Diagram (UML/ERD): The 'Single Source of Truth' for all data entities.", objective: "Translate the current fragmented data structures and business rules into a single, cohesive, logical data model." },
            { id: 3, step: "Architectural Blueprint", deliverable: "System Architecture Diagram: High-level, layered view of the CDKS, detailing data flow and technology stack.", objective: "Design the modular architecture, defining the boundaries of each Microservice/Module and the initial API contract." },
            { id: 4, step: "Foundational Code Structure", deliverable: "CDKS Monorepo Initialized: Empty project structure with linting, CI/CD templates, and a basic configuration.", objective: "Set up the monorepo structure and initial project boilerplate code (using Clean Architecture principles) to ensure Phase II starts instantly." }
        ],
        phaseII: [
            { name: "User & Role Management", priority: "High", description: "Authentication, authorization, and basic user interface for system access (leveraging Supabase Auth or Azure AD/Microsoft Graph expertise)." },
            { name: "Data Ingestion/API Layer", priority: "High", description: "A robust API endpoint for feeding data into the core data model, ensuring validation and transactionality (leveraging .NET 8 or Next.js API Routes)." },
            { name: "Dashboard & Reporting", priority: "Medium", description: "A flexible front-end to visualize the core data, allowing for quick insights and searchability." },
            { name: "Audit Logging", priority: "Medium", description: "Implement comprehensive logging of all critical data changes to ensure compliance and traceability." }
        ]
    };

    let effortChartInstance;
    let priorityChartInstance;

    document.addEventListener('DOMContentLoaded', () => {
        initCharts();
        renderPhaseIIFeatures();
        updateChallenge(1);
        updateStep(1);
    });

    function initCharts() {
        const effortCtx = document.getElementById('effortChart').getContext('2d');
        effortChartInstance = new Chart(effortCtx, {
            type: 'bar',
            data: {
                labels: DATA.phaseI.map(i => i.step),
                datasets: [{
                    label: 'Estimated Effort (Weeks)',
                    data: [1, 1, 1, 1],
                    backgroundColor: [
                        '#818cf8', '#a5b4fc', '#c7d2fe', '#e0e7ff'
                    ],
                    borderColor: '#4f46e5',
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: (context) => context.raw + ' Week'
                        }
                    },
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 1.1,
                        ticks: { stepSize: 1 }
                    },
                    y: {
                        ticks: {
                            callback: (value, index) => {
                                const label = effortChartInstance.data.labels[index];
                                return label.length > 16 ? label.substring(0, 16) + '...' : label;
                            }
                        }
                    }
                }
            }
        });

        const priorityCtx = document.getElementById('priorityChart').getContext('2d');
        const highCount = DATA.phaseII.filter(f => f.priority === 'High').length;
        const mediumCount = DATA.phaseII.length - highCount;

        priorityChartInstance = new Chart(priorityCtx, {
            type: 'doughnut',
            data: {
                labels: ['High Priority', 'Medium Priority'],
                datasets: [{
                    data: [highCount, mediumCount],
                    backgroundColor: ['#4f46e5', '#f59e0b'],
                    hoverBackgroundColor: ['#3730a3', '#d97706'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        callbacks: {
                            label: (context) => {
                                const label = context.label || '';
                                return `${label}: ${context.raw} Module(s)`;
                            }
                        }
                    }
                }
            }
        });
    }

    function updateChallenge(id) {
        document.querySelectorAll('.interact-card').forEach(card => {
            card.classList.remove('bg-indigo-100', 'border-indigo-700');
            card.classList.add('bg-white', 'border-indigo-500');
        });

        const selected = document.getElementById(`challenge-${id}`);
        selected.classList.remove('bg-white', 'border-indigo-500');
        selected.classList.add('bg-indigo-100', 'border-indigo-700');

        const challenge = DATA.challenges.find(c => c.id === id);
        document.getElementById('solution-title').textContent = `${challenge.name}: Solution Focus`;
        document.getElementById('solution-description').textContent = challenge.solution;
    }

    function updateStep(id) {
        document.querySelectorAll('#phase1 button').forEach(btn => {
            btn.classList.remove('bg-indigo-600', 'text-white');
            btn.classList.add('bg-white', 'text-gray-700');
        });

        const selectedBtn = document.querySelector(`#phase1 button:nth-child(${id})`);
        selectedBtn.classList.remove('bg-white', 'text-gray-700');
        selectedBtn.classList.add('bg-indigo-600', 'text-white');

        const step = DATA.phaseI.find(s => s.id === id);
        document.getElementById('step-title').textContent = step.deliverable.split(':')[0];
        document.getElementById('step-deliverable').textContent = `Objective: ${step.objective}\nDeliverable: ${step.deliverable.split(':').slice(1).join(':').trim()}`;
    }

    function renderPhaseIIFeatures() {
        const container = document.getElementById('feature-list');
        container.innerHTML = DATA.phaseII.map((feature, index) => {
            const priorityClass = feature.priority === 'High' ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800';
            return `
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="w-full text-left p-4 flex justify-between items-center hover:bg-gray-50 transition duration-150" onclick="toggleFeatureDetail(${index})">
                        <span class="font-semibold text-gray-700">${feature.name}</span>
                        <span class="px-3 py-1 text-xs font-medium rounded-full ${priorityClass}">${feature.priority}</span>
                    </button>
                    <div id="feature-detail-${index}" class="hidden p-4 pt-0 text-gray-600 text-sm border-t border-gray-100">
                        <p class="mt-2">${feature.description}</p>
                    </div>
                </div>
            `;
        }).join('');
    }

    function toggleFeatureDetail(index) {
        const detail = document.getElementById(`feature-detail-${index}`);
        detail.classList.toggle('hidden');
    }

    function highlightDate(id) {
        document.querySelectorAll('.timeline-item').forEach(item => {
            item.classList.remove('bg-amber-50', 'border-amber-300', 'transform', 'scale-105');
        });
        const selectedDate = document.getElementById(`date-${id}`);
        selectedDate.classList.add('bg-amber-50', 'border-amber-300', 'transform', 'scale-105');
    }

</script>
</body>
</html>
